<!doctype html>
<html lang="pl">
<head>
  <meta charset="utf-8">
  <title>Prosta strona z funkcjami — przykład</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      background: #0f1724;
      color: #fff;
    }
    header, main, footer { max-width: 900px; margin: auto; padding: 16px; }
    header { display:flex; justify-content:space-between; align-items:center; }
    nav a { margin: 0 8px; color:#bbb; text-decoration:none; }
    nav a:hover { color:#fff; }
    .btn { padding:6px 12px; border:none; border-radius:6px; cursor:pointer; }
    .card { background:#1a2335; padding:16px; border-radius:8px; margin-top:14px; }
    .task { display:flex; justify-content:space-between; margin:6px 0; background:#222c42; padding:6px; border-radius:6px; }
    input, textarea { width:100%; padding:8px; margin:4px 0; border-radius:6px; border:1px solid #444; background:#0f1724; color:#fff; }
    footer { text-align:center; font-size:14px; color:#bbb; margin:20px 0; }
    /* modal */
    .modal-backdrop {position:fixed; inset:0; background:rgba(0,0,0,0.7); display:none; align-items:center; justify-content:center;}
    .modal { background:#fff; color:#000; padding:20px; border-radius:8px; max-width:400px; }
    /* jasny motyw */
    body.light { background:#f5f9ff; color:#000; }
    body.light .card { background:#fff; }
    body.light input, body.light textarea { background:#fff; color:#000; border:1px solid #ccc; }
  </style>
</head>
<body>
  <header>
    <div><strong>StronaFunction</strong></div>
    <nav>
      <a href="#funkcje">Funkcje</a>
      <a href="#demo">Demo</a>
      <a href="#kontakt">Kontakt</a>
    </nav>
    <div>
      <button class="btn" onclick="toggleTheme()">Motyw</button>
      <button class="btn" onclick="openModal()">O mnie</button>
    </div>
  </header>

  <main>
    <section id="funkcje" class="card">
      <h2>Funkcje</h2>
      <ul>
        <li>Walidacja formularza</li>
        <li>Lista zadań</li>
        <li>Modal (okno wyskakujące)</li>
        <li>Przełączanie jasny/ciemny motyw</li>
      </ul>
    </section>

    <section id="demo" class="card">
      <h3>Lista zadań</h3>
      <input id="taskInput" type="text" placeholder="Nowe zadanie">
      <button class="btn" onclick="addTask()">Dodaj</button>
      <input id="filter" type="text" placeholder="Filtruj zadania" oninput="filterTasks()">
      <div id="taskList"></div>
    </section>

    <section class="card">
      <h3>Formularz kontaktowy</h3>
      <form id="contactForm" onsubmit="return submitForm(event)">
        <input id="name" type="text" placeholder="Imię" required>
        <input id="email" type="email" placeholder="Email" required>
        <textarea id="message" rows="4" placeholder="Twoja wiadomość (min. 20 znaków)" required></textarea>
        <button class="btn" type="submit">Wyślij</button>
        <div id="formStatus"></div>
      </form>
    </section>
  </main>

  <footer>
    © 2025 StronaFunction — przykład HTML + JS
  </footer>

  <!-- Modal -->
  <div id="modalBackdrop" class="modal-backdrop">
    <div class="modal">
      <h3>O stronie</h3>
      <p>To prosty przykład strony z JavaScript: lista zadań, formularz, motyw i modal.</p>
      <button class="btn" onclick="closeModal()">Zamknij</button>
    </div>
  </div>

<script>
  const tasks = [];
  const taskListEl = document.getElementById('taskList');

  function renderTasks(filter="") {
    taskListEl.innerHTML = "";
    const filtered = tasks.filter(t => t.text.toLowerCase().includes(filter.toLowerCase()));
    if(filtered.length === 0){ taskListEl.textContent="Brak zadań."; return; }
    filtered.forEach(t => {
      const div = document.createElement("div");
      div.className="task";
      div.innerHTML = `<span>${t.text}</span><button onclick="removeTask('${t.id}')">Usuń</button>`;
      taskListEl.appendChild(div);
    });
  }

  function addTask(){
    const input = document.getElementById('taskInput');
    const text = input.value.trim();
    if(!text){ alert("Podaj treść zadania."); return; }
    tasks.unshift({id:Date.now().toString(), text});
    input.value="";
    renderTasks(document.getElementById('filter').value);
  }

  function removeTask(id){
    const i = tasks.findIndex(t=>t.id===id);
    if(i>-1) tasks.splice(i,1);
    renderTasks(document.getElementById('filter').value);
  }

  function filterTasks(){
    renderTasks(document.getElementById('filter').value);
  }

  function submitForm(e){
    e.preventDefault();
    const name = document.getElementById("name").value.trim();
    const email = document.getElementById("email").value.trim();
    const msg = document.getElementById("message").value.trim();
    const status = document.getElementById("formStatus");
    if(name.length<2){status.textContent="Imię jest za krótkie.";return;}
    if(!/^\S+@\S+\.\S+$/.test(email)){status.textContent="Niepoprawny email.";return;}
    if(msg.length<20){status.textContent="Wiadomość musi mieć min. 20 znaków.";return;}
    status.textContent="Wysyłanie...";
    setTimeout(()=>status.textContent="Dziękujemy! (symulacja wysyłki)",700);
  }

  function toggleTheme(){ document.body.classList.toggle("light"); }
  function openModal(){ document.getElementById("modalBackdrop").style.display="flex"; }
  function closeModal(){ document.getElementById("modalBackdrop").style.display="none"; }

  document.addEventListener("keydown", e => { if(e.key==="Escape") closeModal(); });
</script>
</body>
</html>
